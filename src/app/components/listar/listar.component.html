<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

</head>

<body>

  <app-nvar></app-nvar>

  <main class="container">
    <div class="row mt-5">
      <ng-container *ngIf="notificaciones.length > 0; else noNotifications">

        <div class="position-relative " style="margin: -2rem;">
          <button (click)="agregarNotificacion()" type="button"
            class="btn btn-success btn-sm position-absolute top-0 start-0">
            <i class="bi bi-plus-lg"></i> Agregar Notificación
          </button>
        </div>

        <div class="row mt-3">
          <div class="col-md-6" *ngFor="let notificacion of notificaciones">
            <div
              class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-lg h-md-250 position-relative card-custom">
              <div class="col p-4 d-flex flex-column position-static">
                <strong class="d-inline-block mb-2 mt-1 text-primary-emphasis">Título:</strong>
                <h3 class="mt-3">{{ notificacion.title }}</h3>
                <div class="mb-1 text-body-secondary">ID: {{ notificacion.id }}</div>
                <p class="card-text mb-auto">Descripción: {{ notificacion.description }}</p>
                <div class="container mt-3">
                  <div class="row">
                    <div class="col-md-6">
                      <button (click)="eliminar(notificacion.id)" type="button" class="btn btn-danger btn-custom">
                        <i class="bi bi-trash"></i> Eliminar
                      </button>
                    </div>
                    <div class="col-md-6">
                      <button (click)="estado({'id':notificacion.id,'status':notificacion.status === 1 ? 2 : 1})"
                        type="button" class="btn btn-primary btn-custom">
                        <i class="bi bi-toggle-{{ notificacion.status === 1 ? 'on' : 'off' }}"></i>
                        {{ notificacion.status === 1 ? 'Desactivar' : 'Activar' }}
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-auto d-none d-lg-block">
                <svg class="bd-placeholder-img" width="200" height="280" xmlns="http://www.w3.org/2000/svg" role="img"
                  aria-label="Estado" preserveAspectRatio="xMidYMid slice" focusable="false">
                  <rect width="100%" height="100%" [attr.fill]="getBackgroundColor(notificacion.status)" />
                  <text x="50%" y="50%" fill="#ffffff" dy=".3em" text-anchor="middle" font-size="1.5em">
                    {{ notificacion.status === 1 ? '✓ Activado' : '✗ Desactivado' }}
                  </text>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </ng-container>

      <ng-template #noNotifications>
        <div class="col-md-12 text-center">
          <div class="alert alert-info mt-5" role="alert">
            <h4 class="alert-heading">No hay notificaciones disponibles</h4>
            <p>Parece que no tienes ninguna notificación en este momento. Puedes agregar una nueva notificación usando
              el botón a continuación.</p>
            <hr>
            <button (click)="agregarNotificacion()" type="button" class="btn btn-success mt-3">
              <i class="bi bi-plus-lg"></i> Agregar Notificación
            </button>
          </div>
        </div>
      </ng-template>
    </div>
  </main>





</body>

</html>